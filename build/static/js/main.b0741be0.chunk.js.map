{"version":3,"sources":["services/persons.js","components/Delete.js","components/Display.js","components/Form.js","components/Filter.js","components/Notification.js","components/App.js","index.js"],"names":["services_persons","axios","get","then","response","data","newObject","post","id","put","concat","personObject","delete","Delete","_ref","setPersons","persons","react_default","a","createElement","onClick","person","find","p","window","confirm","name","personService","filter","removePerson","Display","nameToSearch","toLowerCase","includes","map","key","number","components_Delete","Form","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","Filter","searchName","eventHandle","Notification","message","warning","className","App","_useState","useState","_useState2","Object","slicedToArray","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","validation","setValidation","_useState11","_useState12","setWarning","useEffect","components_Notification","components_Filter","event","target","components_Form","preventDefault","duplicate","length","findName","changeNumber","objectSpread","setTimeout","returnedPerson","catch","error","replaceNumber","components_Display","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.b0741be0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/persons'\nconst editURL = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(editURL, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteId = (id, personObject) => {\n    const request = axios.delete(`${editURL}/${id}`, personObject)    \n    return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, deleteId}","import React from 'react'\n\nimport personService from '../services/persons'\n\n/**\n * \n * Delete dontacts from phonebook \n */\nconst Delete = ({id, setPersons, persons}) => {\n    const removePerson = id => {\n        const person = persons.find(p => p.id === id)\n\n        if(window.confirm(`Delete ${person.name} ?`)) {\n          personService\n          .deleteId(id, person)\n          .then(() => {\n            setPersons(persons.filter(p => p.id !== id))\n           \n          })\n        }     \n          \n      }\n\n    return (\n        <button onClick={() => removePerson(id)}>delete</button>\n    )\n}\n\nexport default Delete","import React from 'react'\nimport Delete from './Delete'\n\n/**\n * \n * Display phonebook contacts\n */\nconst Display = ({persons, setPersons, nameToSearch}) => {\n  \n    return(\n      persons.filter(person => person.name.toLowerCase().includes(nameToSearch))\n      .map(person => <div key={person.id}>{person.name} {person.number}\n      <Delete id={person.id} setPersons={setPersons} persons={persons}/></div>)\n    )\n  }\n\nexport default Display","import React from 'react'\n\nconst Form = ({newName, handleNameChange, newNumber, handleNumberChange, onSubmit}) => {\n\n    return(\n      <form onSubmit={onSubmit}>\n        <div>\n            name: <input value={newName}\n                  onChange={handleNameChange}/>    \n          </div>\n          <div>\n            number: <input value={newNumber}\n                    onChange={handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n      </form>\n    )\n  }\n\n  export default Form","import React from 'react'\n\nconst Filter = ({searchName, eventHandle}) => {  \n  \n    return (\n      <div> \n           \n        filter shown with <input value={searchName}\n                          onChange={eventHandle}/>        \n      </div>      \n    )\n  }\n\nexport default Filter","import React from 'react'\n\nconst Notification = ({message, warning}) => {\n\n    if (message === null && warning === null) {\n        return null\n    } else if (warning !== null) {\n        return (\n            <div className='warn'>\n                {warning}\n            </div>\n        )\n    }\n    return (\n        <div className='validate'>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Display from './Display'\nimport Form from './Form'\nimport Filter from './Filter'\nimport Notification from './Notification'\nimport personService from '../services/persons'\n\nconst App = () => {  \n  \n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')      \n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ validation, setValidation ] = useState(null)\n  const [ warning, setWarning ] = useState(null)\n  \n  const  nameToSearch = searchName.toLowerCase()  \n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n      })\n  }, [])\n\n    const addPerson = (event) => {\n    event.preventDefault()    \n\n    const personObject = {\n        name: newName,\n        number: newNumber\n    }   \n    // Check if duplicate name is already in the phonebook\n    const duplicate = persons.filter((person) => newName === person.name)\n   \n    const replaceNumber = () => {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const findName = duplicate[0]\n        const id = duplicate[0].id\n        const changeNumber = {...findName, number: newNumber}\n        setValidation(`${findName.name}'s number successfully updated`)\n        setTimeout(() => {\n          setValidation(null)\n        }, 5000)\n        personService\n          .update(id, changeNumber)\n          .then(returnedPerson => {setPersons(persons.map(person => person.id !== id ? person: returnedPerson))})\n          .catch(error => {\n            \n            setValidation(null)             \n            setWarning(`${personObject.name} has already been removed from server.`)            \n            setPersons(persons.filter(p => p.id !== id))\n            setNewName('')\n            setNewNumber('')\n            setTimeout(() => {\n              setWarning(null)\n            },5000)\n          })\n          setNewName('')\n          setNewNumber('')\n          \n          \n      } else {\n        setNewName('')\n        setNewNumber('')  \n\n      }\n    }\n\n    // If a duplicate name is entered, ask to update number\n    if(duplicate.length > 0) {\n      replaceNumber()\n      \n    } else {    \n      \n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setValidation(`${returnedPerson.name} successfully added to phonebook`)\n          setTimeout(() => {\n          setValidation(null)\n        }, 5000)\n          setNewName('')\n          setNewNumber('')          \n        })\n\n    }\n       \n  }\n\n\n  const handleNameChange = (event) => {\n      setNewName(event.target.value)\n  } \n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  \n  const handleSearchChange = (event) => {\n    setSearchName(event.target.value)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={validation} warning={warning}/>\n      <Filter searchName={searchName} eventHandle={handleSearchChange}/>\n     \n      <h3>Add a new</h3>                 \n      <Form newName={newName} handleNameChange={handleNameChange} \n            newNumber={newNumber} handleNumberChange={handleNumberChange} onSubmit={addPerson}/>             \n      <h2>Numbers</h2>\n      <div>        \n        <Display persons={persons} setPersons={setPersons} nameToSearch={nameToSearch}/>        \n      </div>\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}